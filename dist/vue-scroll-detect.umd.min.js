!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).VueScrollDetect={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r,i,o,c,l=function(t){return t&&t.Math==Math&&t},a=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof e&&e)||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},u=!s((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),f={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,h={f:d&&!f.call({1:2},1)?function(t){var e=d(this,t);return!!e&&e.enumerable}:f},p=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},m={}.toString,y=function(t){return m.call(t).slice(8,-1)},v="".split,b=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==y(t)?v.call(t,""):Object(t)}:Object,g=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},S=function(t){return b(g(t))},C=function(t){return"object"==typeof t?null!==t:"function"==typeof t},E=function(t,e){if(!C(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!C(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!C(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!C(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},_={}.hasOwnProperty,w=function(t,e){return _.call(t,e)},L=a.document,O=C(L)&&C(L.createElement),$=!u&&!s((function(){return 7!=Object.defineProperty((t="div",O?L.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),T=Object.getOwnPropertyDescriptor,x={f:u?T:function(t,e){if(t=S(t),e=E(e,!0),$)try{return T(t,e)}catch(t){}if(w(t,e))return p(!h.f.call(t,e),t[e])}},V=function(t){if(!C(t))throw TypeError(String(t)+" is not an object");return t},j=Object.defineProperty,A={f:u?j:function(t,e,n){if(V(t),e=E(e,!0),V(n),$)try{return j(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},P=u?function(t,e,n){return A.f(t,e,p(1,n))}:function(t,e,n){return t[e]=n,t},M=function(t,e){try{P(a,t,e)}catch(n){a[t]=e}return e},I=a["__core-js_shared__"]||M("__core-js_shared__",{}),R=n((function(t){(t.exports=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.2",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),N=R("native-function-to-string",Function.toString),D=a.WeakMap,F="function"==typeof D&&/native code/.test(N.call(D)),B=0,k=Math.random(),G=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++B+k).toString(36)},z=R("keys"),U={},H=a.WeakMap;if(F){var W=new H,q=W.get,X=W.has,Y=W.set;r=function(t,e){return Y.call(W,t,e),e},i=function(t){return q.call(W,t)||{}},o=function(t){return X.call(W,t)}}else{var J=z[c="state"]||(z[c]=G(c));U[J]=!0,r=function(t,e){return P(t,J,e),e},i=function(t){return w(t,J)?t[J]:{}},o=function(t){return w(t,J)}}var K={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!C(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Q=n((function(t){var e=K.get,n=K.enforce,r=String(N).split("toString");R("inspectSource",(function(t){return N.call(t)})),(t.exports=function(t,e,i,o){var c=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,s=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||w(i,"name")||P(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==a?(c?!s&&t[e]&&(l=!0):delete t[e],l?t[e]=i:P(t,e,i)):l?t[e]=i:M(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||N.call(this)}))})),Z=a,tt=function(t){return"function"==typeof t?t:void 0},et=function(t,e){return arguments.length<2?tt(Z[t])||tt(a[t]):Z[t]&&Z[t][e]||a[t]&&a[t][e]},nt=Math.ceil,rt=Math.floor,it=function(t){return isNaN(t=+t)?0:(t>0?rt:nt)(t)},ot=Math.min,ct=function(t){return t>0?ot(it(t),9007199254740991):0},lt=Math.max,at=Math.min,st=function(t,e){var n=it(t);return n<0?lt(n+e,0):at(n,e)},ut=function(t){return function(e,n,r){var i,o=S(e),c=ct(o.length),l=st(r,c);if(t&&n!=n){for(;c>l;)if((i=o[l++])!=i)return!0}else for(;c>l;l++)if((t||l in o)&&o[l]===n)return t||l||0;return!t&&-1}},ft={includes:ut(!0),indexOf:ut(!1)},dt=ft.indexOf,ht=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),pt={f:Object.getOwnPropertyNames||function(t){return function(t,e){var n,r=S(t),i=0,o=[];for(n in r)!w(U,n)&&w(r,n)&&o.push(n);for(;e.length>i;)w(r,n=e[i++])&&(~dt(o,n)||o.push(n));return o}(t,ht)}},mt={f:Object.getOwnPropertySymbols},yt=et("Reflect","ownKeys")||function(t){var e=pt.f(V(t)),n=mt.f;return n?e.concat(n(t)):e},vt=function(t,e){for(var n=yt(e),r=A.f,i=x.f,o=0;o<n.length;o++){var c=n[o];w(t,c)||r(t,c,i(e,c))}},bt=/#|\.prototype\./,gt=function(t,e){var n=Ct[St(t)];return n==_t||n!=Et&&("function"==typeof e?s(e):!!e)},St=gt.normalize=function(t){return String(t).replace(bt,".").toLowerCase()},Ct=gt.data={},Et=gt.NATIVE="N",_t=gt.POLYFILL="P",wt=gt,Lt=x.f,Ot=function(t,e){var n,r,i,o,c,l=t.target,s=t.global,u=t.stat;if(n=s?a:u?a[l]||M(l,{}):(a[l]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(c=Lt(n,r))&&c.value:n[r],!wt(s?r:l+(u?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;vt(o,i)}(t.sham||i&&i.sham)&&P(o,"sham",!0),Q(n,r,o,t)}},$t=function(t,e){var n=[][t];return!n||!s((function(){n.call(null,e||function(){throw 1},1)}))},Tt=ft.indexOf,xt=[].indexOf,Vt=!!xt&&1/[1].indexOf(1,-0)<0,jt=$t("indexOf");Ot({target:"Array",proto:!0,forced:Vt||jt},{indexOf:function(t){return Vt?xt.apply(this,arguments)||0:Tt(this,t,arguments.length>1?arguments[1]:void 0)}});var At,Pt,Mt=function(t){return Object(g(t))},It=Array.isArray||function(t){return"Array"==y(t)},Rt=!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())})),Nt=Rt&&!Symbol.sham&&"symbol"==typeof Symbol(),Dt=R("wks"),Ft=a.Symbol,Bt=Nt?Ft:G,kt=function(t){return w(Dt,t)||(Rt&&w(Ft,t)?Dt[t]=Ft[t]:Dt[t]=Bt("Symbol."+t)),Dt[t]},Gt=kt("species"),zt=function(t,e){var n;return It(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!It(n.prototype)?C(n)&&null===(n=n[Gt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Ut=function(t,e,n){var r=E(e);r in t?A.f(t,r,p(0,n)):t[r]=n},Ht=et("navigator","userAgent")||"",Wt=a.process,qt=Wt&&Wt.versions,Xt=qt&&qt.v8;Xt?Pt=(At=Xt.split("."))[0]+At[1]:Ht&&(!(At=Ht.match(/Edge\/(\d+)/))||At[1]>=74)&&(At=Ht.match(/Chrome\/(\d+)/))&&(Pt=At[1]);var Yt,Jt=Pt&&+Pt,Kt=kt("species"),Qt=Math.max,Zt=Math.min;Ot({target:"Array",proto:!0,forced:(Yt="splice",!(Jt>=51||!s((function(){var t=[];return(t.constructor={})[Kt]=function(){return{foo:1}},1!==t[Yt](Boolean).foo}))))},{splice:function(t,e){var n,r,i,o,c,l,a=Mt(this),s=ct(a.length),u=st(t,s),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=s-u):(n=f-2,r=Zt(Qt(it(e),0),s-u)),s+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=zt(a,r),o=0;o<r;o++)(c=u+o)in a&&Ut(i,o,a[c]);if(i.length=r,n<r){for(o=u;o<s-r;o++)l=o+n,(c=o+r)in a?a[l]=a[c]:delete a[l];for(o=s;o>s-r+n;o--)delete a[o-1]}else if(n>r)for(o=s-r;o>u;o--)l=o+n-1,(c=o+r-1)in a?a[l]=a[c]:delete a[l];for(o=0;o<n;o++)a[o+u]=arguments[o+2];return a.length=s-r+n,i}});var te=A.f,ee=Function.prototype,ne=ee.toString,re=/^\s*function ([^ (]*)/;!u||"name"in ee||te(ee,"name",{configurable:!0,get:function(){try{return ne.call(this).match(re)[1]}catch(t){return""}}});var ie=0;function oe(t){return"ScrollContainer"===t.$options.name?t:t.$parent?oe(t.$parent):null}var ce={created:function(){this._scrollableId=++ie},mounted:function(){var t=this.$parent&&oe(this.$parent);if(!t)throw new Error("Parent ScrollContainer not found");t.$data.children.push(this)},beforeDestroy:function(){var t=oe(this.$parent);t.$data.children.splice(t.$data.children.indexOf(this),1)},methods:{emitVisibility:function(t,e){t?this.$emit("visible",e):this.$emit("invisible",e)}}};function le(t,e,n,r,i,o,c,l,a,s){"boolean"!=typeof c&&(a=l,l=c,c=!1);const u="function"==typeof n?n.options:n;let f;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r),o?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=f):e&&(f=c?function(t){e.call(this,s(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,l(t))}),f)if(u.functional){const t=u.render;u.render=function(e,n){return f.call(n),t(e,n)}}else{const t=u.beforeCreate;u.beforeCreate=t?[].concat(t,f):[f]}return n}const ae="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());let se;const ue={};const fe=ce;var de=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"scrollable"},[this._t("default")],2)};de._withStripped=!0;const he=le({render:de,staticRenderFns:[]},(function(t){t&&t("data-v-3d3bd10e_0",{source:"\n.scrollable {\n  height: 100%;\n}\n",map:{version:3,sources:["/Users/zul/Documents/Projects/vue-scroll-detect/src/components/Scrollable.vue"],names:[],mappings:";AA4CA;EACA,YAAA;AACA",file:"Scrollable.vue",sourcesContent:["<template>\n  <div class=\"scrollable\">\n    <slot />\n  </div>\n</template>\n\n<script>\nlet _scrollableId = 0\n\nfunction findParent (component) {\n  if (component.$options.name === 'ScrollContainer') {\n    return component\n  } else if (!component.$parent) {\n    return null\n  } else {\n    return findParent(component.$parent)\n  }\n}\n\nexport default {\n  created () {\n    this._scrollableId = ++_scrollableId\n  },\n\n  mounted () {\n    const parent = this.$parent && findParent(this.$parent)\n    if (!parent) throw new Error('Parent ScrollContainer not found')\n    parent.$data.children.push(this)\n  },\n\n  beforeDestroy () {\n    const parent = findParent(this.$parent)\n    parent.$data.children.splice(parent.$data.children.indexOf(this), 1)\n  },\n\n  methods: {\n    emitVisibility (visible, parentEvent) {\n      visible ? this.$emit('visible', parentEvent) : this.$emit('invisible', parentEvent)\n    }\n  }\n}\n<\/script>\n\n<style>\n.scrollable {\n  height: 100%;\n}\n</style>\n"]},media:void 0})}),fe,void 0,!1,void 0,!1,(function(t){return(t,e)=>(function(t,e){const n=ae?e.media||"default":t,r=ue[n]||(ue[n]={ids:new Set,styles:[]});if(!r.ids.has(t)){r.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),void 0===se&&(se=document.head||document.getElementsByTagName("head")[0]),se.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const t=r.ids.size-1,e=document.createTextNode(n),i=r.element.childNodes;i[t]&&r.element.removeChild(i[t]),i.length?r.element.insertBefore(e,i[t]):r.element.appendChild(e)}}})(t,e)}),void 0,void 0);var pe=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},me=[].push,ye=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,c=5==t||o;return function(l,a,s,u){for(var f,d,h=Mt(l),p=b(h),m=pe(a,s,3),y=ct(p.length),v=0,g=u||zt,S=e?g(l,y):n?g(l,0):void 0;y>v;v++)if((c||v in p)&&(d=m(f=p[v],v,h),t))if(e)S[v]=d;else if(d)switch(t){case 3:return!0;case 5:return f;case 6:return v;case 2:me.call(S,f)}else if(i)return!1;return o?-1:r||i?i:S}},ve={forEach:ye(0),map:ye(1),filter:ye(2),some:ye(3),every:ye(4),find:ye(5),findIndex:ye(6)}.forEach,be=$t("forEach")?function(t){return ve(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;Ot({target:"Array",proto:!0,forced:[].forEach!=be},{forEach:be});for(var ge in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Se=a[ge],Ce=Se&&Se.prototype;if(Ce&&Ce.forEach!==be)try{P(Ce,"forEach",be)}catch(t){Ce.forEach=be}}var Ee=["DOMContentLoaded","load","scroll","resize"];const _e={name:"ScrollContainer",props:{root:{type:Boolean,default:function(){return!1}},initialEvent:{type:Boolean,default:function(){return!1}}},data:function(){return{children:[]}},created:function(){this._childrenVisibility={}},mounted:function(){var t=this;this.root?Ee.forEach((function(e){return window.addEventListener(e,t.emitChildrenVisibility,!1)})):this.$el.onscroll=this.emitChildrenVisibility,this.initialEvent?this.emitChildrenVisibility():this.children.forEach((function(e){t._childrenVisibility[e._scrollableId]=t.isInContainer(e)}))},beforeDestroy:function(){var t=this;this.root&&Ee.forEach((function(e){return window.removeEventListener(e,t.emitChildrenVisibility,!1)})),this.$el.onscroll=void 0},methods:{emitChildrenVisibility:function(t){var e=this;this.children.forEach((function(n){return e.emitChildVisibility(n,t)}))},emitChildVisibility:function(t,e){var n=this.isVisible(t),r=t._scrollableId;n!==this._childrenVisibility[r]&&(this._childrenVisibility[r]=n,t.emitVisibility(n,e))},isVisible:function(t){return this.root?this.isInViewport(t):this.isInContainer(t)},isInViewport:function(t){var e=t.$el.getBoundingClientRect(),n=this.$el.getBoundingClientRect(),r=document.body.scrollTop,i=document.body.scrollLeft,o=r+document.documentElement.clientHeight,c=i+document.documentElement.clientWidth,l=n.top<r?r:n.top,a=n.bottom>o?o:n.bottom,s=n.left<i?i:n.left,u=n.right>c?c:n.right;return e.bottom>l&&e.top<a&&e.right>s&&e.left<u},isInContainer:function(t){var e=t.$el.getBoundingClientRect(),n=this.$el.getBoundingClientRect(),r=t.$el.clientTop,i=t.$el.clientLeft,o=n.top+r,c=n.bottom-r,l=n.left+i,a=n.right-i;return e.bottom>o&&e.top<c&&e.right>l&&e.left<a}}};var we=function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)};we._withStripped=!0;const Le=le({render:we,staticRenderFns:[]},void 0,_e,void 0,!1,void 0,!1,void 0,void 0,void 0);t.ScrollContainer=Le,t.Scrollable=he,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vue-scroll-detect.umd.min.js.map
